<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Lega</title>
    <link rel="stylesheet" href="../css/style_dashboard.css">
</head>
<body>

    <div class="overlay" id="overlay"></div>

    <header class="header-minimal">
        <button class="openbtn" id="openSidebar">Menu â˜°</button>
        <span class="league-title" id="leagueNameDisplay"></span>
        <button class="openbtn-right" id="deleteButton">Elimina</button> 
    </header>

    <div id="mySidebar" class="sidebar">
        <div class="sidebar-header">
            <h3>Dashboard</h3>
        </div>
        <nav class="sidebar-links" id="sidebarNav">
            <a href="home_news.html" id="homeLink">ğŸ  News</a>
            <div id="userLeagues"></div> 
    
            <hr> <a href="crea_lega.html">â• Crea lega</a>
            <form id="logoutForm" action="http://localhost:8000/auth/logout" method="POST" class="logout-form">
            <button type="submit" class="logout-btn">ğŸšª Logout</button>
        </form>
        </nav>
   </div>

    <main class="dashboard-container">
        
        <section class="widget">
            <div class="widget-header">ğŸ“… Prossimo Turno</div>
            <div class="widget-content">
                <span class="giornata-numero" id = "numeroGiornata"></span>
                <p style="color: #64748b; margin-bottom: 20px;" id = "scadenza"></p>
                <div class="button-group">
                    <button id="btnFormazione" class="btn-primary">Inserisci Formazione</button>
                    <button id="btnInserisciSquadra" class="btn-primary">Inserisci una squadra</button>
                    <button id="btnViewGrades" class="btn-primary">View last grades</button>
                    <button id="btnCalcolaGiornata" class="btn-primary">Calcola la giornata</button>
                </div>
            </div>
        </section>

        <section class="widget">
            <div class="widget-header">ğŸ“Š League Board</div>
            <div class="widget-content">
                <table class="classifica-table">
                    <thead>
                        <tr>
                            <th>Pos</th>
                            <th>Squadra</th>
                            <th>PT</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardBody">
                        <!--<tr><td>1</td><td>ğŸš€ Team Galacticos</td><td>58</td></tr>
                        <tr><td>2</td><td>âš½ FantaIbra</td><td>54</td></tr>
                        <tr><td>3</td><td>ğŸ›¡ï¸ Catenaccio FC</td><td>51</td></tr>
                        <tr><td>4</td><td>ğŸ”¥ Bomber United</td><td>48</td></tr>-->
                    </tbody>
                </table>
            </div>
        </section>

        <section class="widget">
            <div class="widget-header">ğŸƒ La Tua Rosa</div>
            <div class="widget-content">
                <div id="listaCompletaRosa" class="formazione-lista"> </div>
            </div>
        </section>


        <section class="widget">
            <div class="widget-header">ğŸŸï¸ La Tua Formazione</div>
            <div class="widget-content">
                
                <div class="formazione-settore">
                    <h4 class="settore-titolo">Titolari <small>(11)</small></h4>
                    <div id="listaTitolari" class="formazione-lista">
                        <div class="player-card starter"> </div>
                    </div>
                </div>

                <hr class="formazione-divider">

                <div class="formazione-settore">
                    <h4 class="settore-titolo">Panchina <small>(7)</small></h4>
                    <div id="listaPanchina" class="formazione-lista panchina">
                        <div class="player-card bench"> </div>
                    </div>
                </div>

            </div>
        </section>

        <section class="widget">
            <div class="widget-header">Last 3 Scores</div>
            <div id = "divLastScores" class="widget-content">
                
            </div>
        </section>

    </main>

    <div id="modalFormazione" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeModalFormazione">&times;</span>
            <h2 style="margin-top: 0;">Schiera la Rosa</h2>
            <p style="font-size: 0.9rem; color: #64748b;">Seleziona i titolari per questa giornata.</p>
            
            <div id="listaCalciatori" class="players-list">
                <p style="text-align:center; padding:20px;">Caricamento giocatori...</p>
            </div>

            <button class="btn-primary" id="saveFormazione">Salva Formazione</button>
        </div>
    </div>

    <div id="modalCalcolaGiornata" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeModalCalcola">&times;</span>
            <h2 style="margin-top: 0;">Calcola giornata</h2>
            <p style="font-size: 0.9rem; color: #64748b;">Scegli la giornata da calcolare</p>
            
            <select id="selectMatchday" class="form-control">
            </select>

            <button class="btn-primary" id="confirm">Calcola giornata</button>
        </div>
    </div>

    <script src="../js/script_dashboard.js"></script>
</body>
</html>