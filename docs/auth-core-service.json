{"openapi":"3.1.0","info":{"title":"Auth Core Service","version":"0.1.0"},"servers":[{"url":"/core"}],"paths":{"/identify":{"post":{"summary":"It generates the internal tokens","description":"Description:\nIt receives the user's name and email and queries the database to retrieve the user ID. \nIf the user does not exist, it creates a new record. Based on the gathered information, \nit generates an access token along with a refresh token.","operationId":"core_identification_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewTokens"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate/access":{"post":{"summary":"It generates a new access token from the refresh one","description":"Description:\nReceives a refresh token, retrieves the associated user from the database, and issues a new access token.","operationId":"core_session_user_generate_access_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Core Session User Generate Access Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/refresh/revoke":{"post":{"summary":"It revokes the refresh token","description":"Description:\nIt revokes the refresh token associated to the user","operationId":"core_revoke_refresh_refresh_revoke_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jwks":{"get":{"summary":"It returns the public key","description":"Return the JSON Web Key Set (JWKS) containing the public keys used for JWT verification.","operationId":"core_jwks_jwks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWKSResponse"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JWK":{"properties":{"kty":{"type":"string","title":"Kty"},"kid":{"type":"string","title":"Kid"},"use":{"type":"string","title":"Use"},"alg":{"type":"string","title":"Alg"},"n":{"type":"string","title":"N"},"e":{"type":"string","title":"E"}},"type":"object","required":["kty","kid","use","alg","n","e"],"title":"JWK"},"JWKSResponse":{"properties":{"keys":{"items":{"$ref":"#/components/schemas/JWK"},"type":"array","title":"Keys"}},"type":"object","required":["keys"],"title":"JWKSResponse"},"NewTokens":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["access_token","refresh_token"],"title":"NewTokens"},"SignRequest":{"properties":{"email":{"type":"string","title":"Email"},"name":{"type":"string","title":"Name"}},"type":"object","required":["email","name"],"title":"SignRequest"},"StatusResponse":{"properties":{"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"StatusResponse"},"Token":{"properties":{"token_str":{"type":"string","title":"Token Str"}},"type":"object","required":["token_str"],"title":"Token"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}