{"openapi":"3.1.0","info":{"title":"Auth Process Service","version":"0.1.0"},"paths":{"/auth/login":{"get":{"summary":"Initiates the delegated authentication flow","description":"Description: It generates the Google Consent URL and redirects the user to the official Google login page.","operationId":"login_auth_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/callback":{"get":{"summary":"Handles Google OAuth2 callback and issues internal tokens","description":"Description:\nIt receives the code parameter returned by Google after the user grants consent,\nexchanges it for Google tokens (id_token and access_token), validates the id_token\nusing Google's public keys, and creates/identifies the user in the Core Service.","operationId":"auth_callback_auth_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"summary":"Renews an expired session using the refresh token cookie","description":"Description:\nSilent refresh endpoint used to renew an expired access token.\nThe refresh token is retrieved from the `refresh_token` HttpOnly cookie\nand sent to the Core Service to generate a new internal access token.","operationId":"refresh_token_endpoint_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshResponse"}}}}}}},"/auth/logout":{"post":{"summary":"Terminates the user session.","description":"Description:\nTerminates the user session by revoking the `refresh token` (if available)\nthrough the Core Service and clearing authentication cookies.","operationId":"logout_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/jwks":{"get":{"summary":"Utility endpoint for public key distribution.","description":"Description:\nUtility endpoint used to expose the JSON Web Key Set (JWKS) required\nto verify JWT signatures issued by the Core Service.","operationId":"core_jwks_auth_jwks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWKSResponse"}}}}}}},"/remove/{email}":{"delete":{"summary":"Remove User","operationId":"remove_user_remove__email__delete","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/check_utenti":{"get":{"summary":"Check Refresh","operationId":"check_refresh_check_utenti_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JWK":{"properties":{"kty":{"type":"string","title":"Kty"},"kid":{"type":"string","title":"Kid"},"use":{"type":"string","title":"Use"},"alg":{"type":"string","title":"Alg"},"n":{"type":"string","title":"N"},"e":{"type":"string","title":"E"}},"type":"object","required":["kty","kid","use","alg","n","e"],"title":"JWK"},"JWKSResponse":{"properties":{"keys":{"items":{"$ref":"#/components/schemas/JWK"},"type":"array","title":"Keys"}},"type":"object","required":["keys"],"title":"JWKSResponse"},"RefreshResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"message":{"type":"string","title":"Message"}},"type":"object","required":["access_token","message"],"title":"RefreshResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}